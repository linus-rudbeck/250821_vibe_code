<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Users</title>
  <link rel="stylesheet" href="{{ url_for('static', filename='styles.css') }}">
</head>
<body>
  <div class="container">
    <h1>Users</h1>
    <div class="meta">Data source: <a href="https://jsonplaceholder.typicode.com/users" target="_blank" rel="noreferrer">jsonplaceholder.typicode.com/users</a></div>

    {% if error %}
      <div class="error">
        <strong>Error fetching users:</strong>
        <div class="muted">{{ error }}</div>
      </div>
    {% else %}
      <table>
        <thead>
          <tr>
            <th>Name</th>
            <th>Username</th>
            <th>Email</th>
            <th>Address</th>
            <th>Phone</th>
            <th>Website</th>
            <th>Company</th>
          </tr>
        </thead>
        <tbody>
          {% for u in users %}
          <tr>
            <td>
              {{ u.name }}<div class="small">{{ u.id }}</div>
            </td>
            <td>{{ u.username }}</td>
            <td><a href="mailto:{{ u.email }}">{{ u.email }}</a></td>
            <td>
              {{ u.address.street }}, {{ u.address.suite }}<br/>
              {{ u.address.city }} &ndash; {{ u.address.zipcode }}<br/>
              <span class="small">lat: {{ u.address.geo.lat }}, lng: {{ u.address.geo.lng }}</span>
            </td>
            <td>{{ u.phone }}</td>
            <td><a href="http://{{ u.website }}" target="_blank" rel="noreferrer">{{ u.website }}</a></td>
            <td>
              {{ u.company.name }}<div class="small">{{ u.company.catchPhrase }}</div>
            </td>
          </tr>
          {% endfor %}
        </tbody>
      </table>
    {% endif %}
  </div>
</body>
</html>
